import{u as g,j as e,l as w,n as t,C as q}from"./index-78f4ce3d.js";import{F as x,a as o,b as d}from"./Formik.styled-917d7486.js";import{c as n,a,b as y}from"./index.esm-21db067f.js";import{B as f,a as j}from"./Components.styled-2be2943c.js";import{S,F as b}from"./SignInForm.styled-aef3794c.js";import{H as F,S as E,a as A}from"./SignInPage.styled-2d754971.js";const m=/^(([^<>()[\]\\.,;:\s@"]+(.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@(([[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}])|(([a-zA-Z-0-9]+.)+[a-zA-Z]{2,}))$/,I=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{5,}$/,c=/^([A-Za-zА-Яа-яґҐЁёІіЇїЄє]+((['’ʼ \s-][A-Za-zА-Яа-яґҐЁёІіЇїЄє ])?[a-zA-Zа-яА-Я]*))*$/,P=/^(\+?\d{1,4}?[ .\-\s]?\(?\d{1,3}?\)?[ .\-\s]?\d{1,4}[ .\-\s]?\d{1,4}[ .\-\s]?\d{1,9})*$/,v=n().shape({email:a().required("Email is required").email("Invalid email format").matches(m,"Invalid email address"),password:a().required("Password is required").min(7,"The password must be at least 5 characters long")});n().shape({name:a().required("Name is required").matches(c,"Name may contain only letters, apostrophe, dash and spaces."),email:a().required("Email is required").email("Invalid email format").matches(m,"Invalid email address"),password:a().required("Password is required").min(7,"The password must be at least 5 characters long").matches(I,"Please create a stronger password. The password must be at least 5 characters, contain  1 uppercase letter, 1 lowercase letter, 1 number"),confirmPassword:a().required("Confirmation password is required").oneOf([y("password"),null],"Passwords must match")});n().shape({name:a().required("Name is required").matches(c,"Name may contain only letters, apostrophe, dash and spaces."),number:a().min(5).matches(P,"A phone number must be digits and contain more than 5 characters. Can contain spaces, dashes, parentheses and can start with +.").required("A phone number is required")});function N(){const l={email:"",password:""},u=g(),p=async(s,r)=>{try{await u(w(s)).unwrap(),t.success("You have successfully logged in!")}catch{t.error("Wrong login or password! Try again!")}r.resetForm()};return e.jsx(e.Fragment,{children:e.jsx(x,{initialValues:l,validationSchema:v,onSubmit:p,children:({errors:s,touched:r,isSubmitting:i,isValid:h})=>e.jsxs(S,{children:[e.jsx(o,{type:"email",name:"email",placeholder:"E-mail",className:r.quantity?s.quantity?"input-error":"input-success":"input-normal"}),e.jsx(d,{component:"p",name:"email"}),e.jsx(o,{type:"password",name:"password",placeholder:"Password",autoComplete:"off",className:r.quantity?s.quantity?"input-error":"input-success":"input-normal"}),e.jsx(d,{component:"p",name:"password"}),e.jsx(f,{type:"submit",disabled:!h||i,children:"Sign in"}),e.jsx(b,{to:"/forgot-password",children:"Forgot your password?"})]})})})}function C(){return e.jsx("main",{children:e.jsxs(q,{children:[e.jsx(j,{children:"Sign in"}),e.jsx(F,{children:"You need to login to use the service"}),e.jsx(N,{}),e.jsx(E,{children:"If you don't have an account yet"}),e.jsx(A,{to:"/signup",children:"Sign up"})]})})}export{C as default};
