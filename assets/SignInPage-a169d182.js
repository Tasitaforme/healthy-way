import{u as f,a as b,b as j,j as e,l as S,n as d,C as F}from"./index-d678984b.js";import{F as E,a as c,b as l}from"./Formik.styled-271fc10b.js";import{c as n,a,b as A}from"./index.esm-6aee5a17.js";import{B as I,a as P}from"./Components.styled-9606d121.js";import{S as v,F as L}from"./SignInForm.styled-f8a1031d.js";import{H as N,S as $,a as k}from"./SignInPage.styled-b543b25b.js";const u=/^(([^<>()[\]\\.,;:\s@"]+(.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@(([[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}.[0-9]{1,3}])|(([a-zA-Z-0-9]+.)+[a-zA-Z]{2,}))$/,p=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{5,}$/,h=/^([A-Za-zА-Яа-яґҐЁёІіЇїЄє]+((['’ʼ \s-][A-Za-zА-Яа-яґҐЁёІіЇїЄє ])?[a-zA-Zа-яА-Я]*))*$/,z=/^(\+?\d{1,4}?[ .\-\s]?\(?\d{1,3}?\)?[ .\-\s]?\d{1,4}[ .\-\s]?\d{1,4}[ .\-\s]?\d{1,9})*$/,R=n().shape({email:a().required("Email is required").email("Invalid email format").matches(u,"Invalid email address"),password:a().required("Password is required").min(7,"The password must be at least 5 characters long").matches(p,"Please create a stronger password. The password must be at least 5 characters, contain  1 uppercase letter, 1 lowercase letter, 1 number")});n().shape({name:a().required("Name is required").matches(h,"Name may contain only letters, apostrophe, dash and spaces."),email:a().required("Email is required").email("Invalid email format").matches(u,"Invalid email address"),password:a().required("Password is required").min(7,"The password must be at least 5 characters long").matches(p,"Please create a stronger password. The password must be at least 5 characters, contain  1 uppercase letter, 1 lowercase letter, 1 number"),confirmPassword:a().required("Confirmation password is required").oneOf([A("password"),null],"Passwords must match")});n().shape({name:a().required("Name is required").matches(h,"Name may contain only letters, apostrophe, dash and spaces."),number:a().min(5).matches(z,"A phone number must be digits and contain more than 5 characters. Can contain spaces, dashes, parentheses and can start with +.").required("A phone number is required")});function T(){var i,o;const s=f(),w={email:(i=s==null?void 0:s.state)==null?void 0:i.email,password:(o=s==null?void 0:s.state)==null?void 0:o.password},g={email:"",password:""};b();const q=j(),x=async(r,t)=>{try{await q(S(r)).unwrap(),d.success("You have successfully logged in!")}catch{d.error("Wrong login or password! Try again!")}t.resetForm()};return e.jsx(e.Fragment,{children:e.jsx(E,{initialValues:w||g,validationSchema:R,onSubmit:x,children:({errors:r,touched:t,isSubmitting:m,isValid:y})=>e.jsxs(v,{children:[e.jsx(c,{type:"email",name:"email",placeholder:"E-mail",className:t.quantity?r.quantity?"input-error":"input-success":"input-normal"}),e.jsx(l,{component:"p",name:"email"}),e.jsx(c,{type:"password",name:"password",placeholder:"Password",autoComplete:"off",className:t.quantity?r.quantity?"input-error":"input-success":"input-normal"}),e.jsx(l,{component:"p",name:"password"}),e.jsx(I,{type:"submit",disabled:!y||m,children:"Sign in"}),e.jsx(L,{to:"/forgot-password",children:"Forgot your password?"})]})})})}function O(){return e.jsx("main",{children:e.jsxs(F,{children:[e.jsx(P,{children:"Sign in"}),e.jsx(N,{children:"You need to login to use the service"}),e.jsx(T,{}),e.jsx($,{children:"If you don't have an account yet"}),e.jsx(k,{to:"/signup",children:"Sign up"})]})})}export{O as default};
