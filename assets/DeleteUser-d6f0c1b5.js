import{w as l,d as m,e as u,j as e,_ as n,u as g,a as j}from"./index-d28cb229.js";import{F as h,b as d,c as p}from"./Formik.styled-d4687912.js";import{d as f,S as w,e as S}from"./SignInForm.styled-ab8bf87f.js";import{a as y,B as x,d as F}from"./Components.styled-f8098fdd.js";const b=async o=>{try{const{data:s}=await l.put("/api/auth/change-password",o);return s}catch(s){return s.response.data}};function k(){const{email:o}=m(u),s={password:"",newPassword:""},c=async(a,t)=>{try{await b({email:o,...a}),n.success("Your password has been successfully changed!")}catch(r){n.error(`Something went wrong! 
 ${r.message}`)}t.resetForm()};return e.jsxs("section",{style:{paddingTop:"24px",paddingBottom:"24px"},children:[e.jsx(y,{style:{marginBottom:"12px"},children:"Change password"}),e.jsx(h,{initialValues:s,validationSchema:f,onSubmit:c,children:({errors:a,touched:t,isSubmitting:r,isValid:i})=>e.jsxs(w,{children:[e.jsx(d,{type:"password",name:"password",placeholder:"Password",autoComplete:"off",className:t.quantity?a.quantity?"input-error":"input-success":"input-normal"}),e.jsx(p,{component:"p",name:"password"}),e.jsx(d,{type:"password",name:"newPassword",placeholder:"New password",autoComplete:"off",className:t.quantity?a.quantity?"input-error":"input-success":"input-normal"}),e.jsx(p,{component:"p",name:"newPassword"}),e.jsx(x,{type:"submit",disabled:!i||r,children:"Update Password"})]})})]})}const P=async o=>{try{const{data:s}=await l.delete("/api/auth/delete",{data:o});return s}catch(s){return s.response.data}};function D(){g();const o=j(),{email:s}=m(u),c=async(a,t)=>{try{await P({email:s,...a}),n.success("You have successfully delete your account!"),o("/welcome")}catch(r){n.error(`Something went wrong! 
 ${r.message}`)}t.resetForm()};return e.jsxs("section",{style:{paddingTop:"24px",paddingBottom:"24px"},children:[e.jsx(y,{style:{marginBottom:"12px",color:"var(--error-color)"},children:"Delete account"}),e.jsx(F,{style:{marginBottom:"12px",maxWidth:"380px"},children:"Once you delete your account, there is no going back. Please be certain."}),e.jsx(h,{initialValues:{password:""},validationSchema:S,onSubmit:c,children:({errors:a,touched:t,isSubmitting:r,isValid:i})=>e.jsxs(w,{children:[e.jsx(d,{type:"password",name:"password",placeholder:"Password",autoComplete:"off",className:t.quantity?a.quantity?"input-error":"input-success":"input-normal"}),e.jsx(p,{component:"p",name:"password"}),e.jsx(x,{type:"submit",disabled:!i||r,children:"Delete your account"})]})})]})}export{k as C,D};
